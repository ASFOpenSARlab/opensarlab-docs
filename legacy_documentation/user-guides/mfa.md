[Return to Table of Contents](../user.md)

# Configuring Multi-Factor Authentication

[Watch: Log In and Set Up MFA](mfa.md#watch-log-in-and-set-up-mfa)

[Before You Begin](mfa.md#before-you-begin)

[Setup Steps](mfa.md#setup-steps)

[Troubleshooting](mfa.md#troubleshooting)

Multi-Factor Authentication (MFA) is required to access OpenScienceLab resources.
Currently, we support TOTP-based authentication, with plans to add hardware
key (ex. Yubikey) authentication in future updates.

## Watch: Log In and Set Up MFA

<iframe width="560" height="315" src="https://www.youtube.com/embed/2c1X9qRnsSM?si=XKHtBBzrSDgnBJNQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

## Before You Begin

A TOTP-enabled MFA application is required to use OpenScienceLab resources.
While the most widely utilized approach is through a smartphone application,
there are also several desktop clients that provide this functionality.

| Application             | Desktop Support | Android Support | iOS Support |
| --------------------    | --------------- | --------------- | ----------- |
| KeePassXc               |        ✅       |       ❌        |      ❌     |
| Enpass                  |        ✅       |       ✅        |      ✅     |
| Cisco Duo               |        ✅       |       ✅        |      ✅     |
| Authenticator.cc*       |        ✅       |       ✅        |      ✅     |
| Bitwarden**             |        ✅       |       ✅        |      ✅     |
| FreeOTP                 |        ❌       |       ✅        |      ✅     |
| Google Authenticator    |        ❌       |       ✅        |      ✅     |
| Microsoft Authenticator |        ❌       |       ✅        |      ✅     |
| Aegis Authenticator     |        ❌       |       ✅        |      ❌     |

\* Browser based

\*\* TOTP supported in paid version only

## Setup Steps

1. Log into OpenScienceLab normally. Leave the "MFA" field on the login page blank.
1. Click "Configure New MFA Device" in the Navigation Bar at
    the top of the page.
1. Configure your MFA device:
    1. If using a smartphone application, scan the QR code using the
application's "Scan QR Code" feature.
    1. If using a desktop application, copy the OTP Secret into the "TOTP" field
1. Enter the current MFA code generated by your application into the "Code 1" field
    on the "Configure New MFA Device" page.
1. When the code changes, enter the new code into the "Code 2" field on the same
    page and click the "Check MFA Codes" button.
1. If the check is successfull, navigate back to the home page by clicking "Home"
    in the Navigation Bar at the top of the page and continue using OpenScienceLab
    as normal.

## Troubleshooting

1. If the MFA Code check is not successful, there are two potential issues:
    1. One of the codes was mis-typed.
    1. The secret was not properly put into the MFA application.
1. Test again with another two *consecutive* codes, and if the verification step fails
    again, check that the OTP Secret on the page matches the secret in your application.
1. If all else fails, refresh the page. This will generate a new code, which you
    can then use to follow the same steps above.

For additional issues and further troubleshooting, please email
[uso@asf.alaska.edu](mailto:uso@asf.alaska.edu)
