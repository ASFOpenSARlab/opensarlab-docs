# Configuring and Resetting MFA
<br>

Multi-Factor Authentication (MFA) is required to access OpenScienceLab resources.

Currently, we support TOTP-based authentication

<!-- - [Watch: Log In and Set Up MFA](#Watch-Log-In-and-Set-Up-MFA) -->
- [Before You Begin](#Before-You-Begin)
- [Setup Steps](#Setup-Steps)
- [Resetting MFA](#Resetting-MFA)
- [Troubleshooting](#Troubleshooting)

<!-- ---

(Watch-Log-In-and-Set-Up-MFA)=
## Watch: Log In and Set Up MFA
:::{iframe} https://www.youtube.com/embed/2c1X9qRnsSM?si=XKHtBBzrSDgnBJNQ
::: -->

---

(Before-You-Begin)=
## Before You Begin

A TOTP-enabled MFA application is required to use OpenScienceLab resources.
While the most widely utilized approach is through a smartphone application,
there are also several desktop clients that provide this functionality.

:::{note} MFA App Support

| Application             | Desktop Support | Android Support | iOS Support |
| --------------------    | --------------- | --------------- | ----------- |
| KeePassXc               |        ✅       |       ❌        |      ❌     |
| Enpass                  |        ✅       |       ✅        |      ✅     |
| Cisco Duo               |        ✅       |       ✅        |      ✅     |
| Authenticator.cc*       |        ✅       |       ✅        |      ✅     |
| Bitwarden**             |        ✅       |       ✅        |      ✅     |
| FreeOTP                 |        ❌       |       ✅        |      ✅     |
| Google Authenticator    |        ❌       |       ✅        |      ✅     |
| Microsoft Authenticator |        ❌       |       ✅        |      ✅     |
| Aegis Authenticator     |        ❌       |       ✅        |      ❌     |

\* Browser based

\*\* TOTP supported in paid version only
:::

---

(Setup-Steps)=
## Setup Steps

1. Go to [OpenScienceLab](https://opensciencelab.asf.alaska.edu/v) and create an account. After verifying your email, you'll be asked to setup MFA.
1. Configure your MFA device:
    1. On the Set up MFA page, select the authentication method you'd like to use.
    1. If using a smartphone application, scan the QR code using the application's "Scan QR Code" feature.
    1. If using a desktop application, copy the OTP Secret into the "TOTP" field
1. Enter the current 6-digit MFA code generated by your application into the "Code" field on the login page.

---

(Resetting-MFA)=
## Resetting MFA

This is currently a manual process. Please email us at [uaf-jupyterhub-admin@alaska.edu](mailto:uaf-jupyterhub-admin@alaska.edu) **from the email** of the account that you need MFA resetting, and we'll get back to you shortly.

---
(Troubleshooting)=
## Troubleshooting

1. If the MFA Code check is not successful, there are a few potential issues:
    1. One of the codes was mis-typed.
    1. The secret was not properly put into the MFA application.
    1. The time on your device is not synchronized correctly (Or an incorrect time-zone is set).
1. Test again with another two *consecutive* codes, and if the verification step fails
    again, check that the OTP Secret on the page matches the secret in your application.
1. If all else fails, refresh the page. This will generate a new code, which you
    can then use to follow the same steps above.

For additional issues and further troubleshooting, please email
[uso@asf.alaska.edu](mailto:uso@asf.alaska.edu)
